/* Android-specific overrides for better scrolling behavior */

/* Enable proper scrolling for textarea in SendMessage component */
.android textarea.overflow-y-auto {
  -webkit-overflow-scrolling: touch !important;
  overflow-y: auto !important;
  overscroll-behavior-y: contain !important;
  /* Allow proper scrolling while maintaining text editing */
  touch-action: pan-y !important;
  -webkit-user-select: text !important;
  user-select: text !important;
}

/* When keyboard is visible, ensure content can scroll properly */
.android.keyboard-visible .app {
  height: auto !important;
  min-height: 0 !important;
}

/* Keep active keyboard input visible */
.android.keyboard-visible textarea:focus {
  position: relative !important;
}

/* Ensure SendMessage stays visible when keyboard is open */
.android.keyboard-visible .send-message-container {
  position: sticky !important;
  bottom: 0 !important;
  z-index: 10 !important;
  background: var(--background) !important;
}

/* Fix specific issues with Android Chrome */
@media screen and (max-width: 768px) {
  /* Core fix for Android textarea scrolling */
  .android textarea.overflow-y-auto {
    /* This is the key fix - make the textarea scroll without stealing all events */
    touch-action: pan-y !important;
  }
  
  /* Allow scrolling in both chat feed and textarea */
  .android.keyboard-visible .chat-feed-container,
  .android.keyboard-visible .messages-scroll-view {
    touch-action: pan-y !important;
    overscroll-behavior: auto;
  }

  /* Adjust body for keyboard visibility */
  .android.keyboard-visible {
    overflow: auto !important;
    position: relative !important;
  }
  
  /* Remove any z-index or isolation tricks that would cause touch event isolation */
  .android.keyboard-visible .send-message-container,
  .android.keyboard-visible textarea {
    isolation: auto;
  }
}
